{% extends "layout.html" %}

{% block title %}
    Parking Lot Details
{% endblock %}

{% block content %}
<div class="container mt-4 mb-5">
    <h2 class="text-center mb-4 text-primary fw-semibold" style="letter-spacing: 1px;">Parking Lot Details</h2>

    <div class="p-4 bg-white rounded shadow-sm mb-5">
        <h5 class="text-secondary mb-4">Lot Information</h5>
        <div class="row mb-2">
            <div class="col-md-4"><strong>ID:</strong> {{ slot.lot_id }}</div>
            <div class="col-md-4"><strong>Title:</strong> {{ slot.lot_title }}</div>
            <div class="col-md-4"><strong>Location:</strong> {{ slot.lot_location }}</div>
        </div>
        <div class="row">
            <div class="col-md-4"><strong>Pincode:</strong> {{ slot.lot_zip }}</div>
            <div class="col-md-4"><strong>Max Slots:</strong> {{ slot.total_slots }}</div>
            <div class="col-md-4"><strong>Charges/Hour:</strong> â‚¹{{ slot.rate_per_hr }}</div>
        </div>
    </div>

    <div class="mb-4 d-flex align-items-center gap-3">
        <h4 class="text-dark mb-0">Slot Status</h4>
        <span class="badge bg-success">A = Available</span>
        <span class="badge bg-danger">O = Occupied</span>
    </div>

    <div class="slot-grid">
        {% for slot_obj in slot.slot_list %}
            <div class="slot-box {% if slot_obj.slot_status == 'O' %}occupied{% else %}available{% endif %}">
                <div class="slot-number">#{{ loop.index }}</div>
                <div class="slot-status">{{ slot_obj.slot_status }}</div>
            </div>
        {% endfor %}
    </div>
</div>

<style>
/* Layout */
.container {
    max-width: 900px;
}

/* Slot grid */
.slot-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
    gap: 20px;
    margin-top: 25px;
}

/* Slot box */
.slot-box {
    aspect-ratio: 1/1;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-weight: 600;
    font-family: 'Segoe UI', sans-serif;
    box-shadow: 0 3px 6px rgba(0,0,0,0.08);
    transition: all 0.2s ease-in-out;
}

/* Hover effect */
.slot-box:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 14px rgba(0,0,0,0.12);
}

/* Colors */
.slot-box.available {
    background-color: #e9f7ef;
    border: 2px solid #28a745;
    color: #218838;
}

.slot-box.occupied {
    background-color: #fceeee;
    border: 2px solid #dc3545;
    color: #c82333;
}

/* Text */
.slot-number {
    font-size: 13px;
    margin-bottom: 4px;
    color: #333;
}
.slot-status {
    font-size: 20px;
}

/* Responsive */
@media (max-width: 576px) {
    .slot-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 12px;
    }
    .slot-number { font-size: 11px; }
    .slot-status { font-size: 16px; }
}
</style>
{% endblock %}
